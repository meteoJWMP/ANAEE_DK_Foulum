dat_soilw150<-read.table(paste(path4,"\\","soil_water_150.txt",sep=""),skip = 22,sep = "\t",as.is = T)
dat_soilC30<-read.table(paste(path4,"\\","soil_content_30.txt",sep=""),skip = 16,sep = "\t",as.is = T)
dat_soilC150<-read.table(paste(path4,"\\","soil_content_150.txt",sep=""),skip = 16,sep = "\t",as.is = T)
#######output file#####################
output<-data.frame(matrix(ncol = 14,nrow = 119))
colnames(output)<-c("Year","ETcY","ETaY","TraY","PerY","SWCY1","SWCY2","Runoff","NleaY","MinY","DENY","VOLAT","SOC1","SOC2")
for (j in 1:119) {
output$Year[j]=j+1960
output$ETcY[j]=sum(dat_fieldw[dat_fieldw$V1==output$Year[j]&dat_fieldw$V2>9,7],dat_fieldw[dat_fieldw$V1==(output$Year[j]+1)&dat_fieldw$V2<10,7])
output$ETaY[j]=sum(dat_fieldw[dat_fieldw$V1==output$Year[j]&dat_fieldw$V2>9,8],dat_fieldw[dat_fieldw$V1==(output$Year[j]+1)&dat_fieldw$V2<10,8])
output$PerY[j]=sum(dat_soilw30[dat_soilw30$V1==output$Year[j]&dat_soilw30$V2>9,6],dat_soilw30[dat_soilw30$V1==(output$Year[j]+1)&dat_soilw30$V2<10,6],dat_soilw150[dat_soilw150$V1==output$Year[j]&dat_soilw150$V2>9,6],dat_soilw150[dat_soilw150$V1==(output$Year[j]+1)&dat_soilw150$V2<10,6])
output$SWCY1[j]=mean(c(dat_soilw30[dat_soilw30$V1==output$Year[j]&dat_soilw30$V2>9,18],dat_soilw30[dat_soilw30$V1==(output$Year[j]+1)&dat_soilw30$V2<10,18]))
output$SWCY2[j]=mean(c(dat_soilw150[dat_soilw150$V1==output$Year[j]&dat_soilw150$V2>9,18],dat_soilw150[dat_soilw150$V1==(output$Year[j]+1)&dat_soilw150$V2<10,18]))
output$Runoff[j]=sum(dat_fieldw[dat_fieldw$V1==output$Year[j]&dat_fieldw$V2>9,13],dat_fieldw[dat_fieldw$V1==(output$Year[j]+1)&dat_fieldw$V2<10,13])
output$NleaY[j]=sum(dat_fieldN[dat_fieldN$V1==output$Year[j]&dat_fieldN$V2>9,8],dat_fieldN[dat_fieldN$V1==(output$Year[j]+1)&dat_fieldN$V2<10,8])
output$MinY[j]=sum(dat_fieldN[dat_fieldN$V1==output$Year[j]&dat_fieldN$V2>9,17],dat_fieldN[dat_fieldN$V1==(output$Year[j]+1)&dat_fieldN$V2<10,17])
output$DENY[j]=sum(dat_fieldN[dat_fieldN$V1==output$Year[j]&dat_fieldN$V2>9,22],dat_fieldN[dat_fieldN$V1==(output$Year[j]+1)&dat_fieldN$V2<10,22])
output$VOLAT[j]=sum(dat_fieldN[dat_fieldN$V1==output$Year[j]&dat_fieldN$V2>9,20],dat_fieldN[dat_fieldN$V1==(output$Year[j]+1)&dat_fieldN$V2<10,20])
output$SOC1[j]=tail(dat_soilC30[dat_soilC30$V1==(output$Year[j]+1)&dat_soilC30$V2<=9,],1)$V11
output$SOC2[j]=tail(dat_soilC150[dat_soilC150$V1==(output$Year[j]+1)&dat_soilC150$V2<=9,],1)$V11
}
if(!dir.exists(paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_output_sum","\\",soil[jj[m,1]],sep=""))){
dir.create(paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_output_sum","\\",soil[jj[m,1]],sep=""), showWarnings = TRUE, recursive = T, mode = "0777")
write.csv(output,paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_output_sum","\\",soil[jj[m,1]],"\\","Y",substr(treat1[i],1,nchar(treat1[i])-9),substr(treat1[i],nchar(treat1[i])-5,nchar(treat1[i])),sep=""),row.names=F,na="n.a.")
}else{
write.csv(output,paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_output_sum","\\",soil[jj[m,1]],"\\","Y",substr(treat1[i],1,nchar(treat1[i])-9),substr(treat1[i],nchar(treat1[i])-5,nchar(treat1[i])),sep=""),row.names=F,na="n.a.")
}
}
}
}
for(m in 1:nrow(jj)){
Jin_output(m)
print(m)
}
for(m in 1:nrow(jj)){
Jin_output(m)
print(m)
}
m=25
Jin_output <- function(m){
site<-list.files(path = paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_Crop_Rot\\management","\\",soil[jj[m,1]],sep=""))##sites
treat<-list.files(path = paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_Crop_Rot\\management","\\",soil[jj[m,1]],"\\",site[jj[m,2]],sep=""))##RCP
#  for (t in 1:1) {
treat1<-list.files(path = paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_Crop_Rot\\management","\\",soil[jj[m,1]],"\\",site[jj[m,2]],"\\",treat[jj[m,3]],"\\","management",sep=""))
path3<-paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_Crop_Rot\\management","\\",soil[jj[m,1]],"\\",site[jj[m,2]],"\\",treat[jj[m,3]],"\\","management",sep="")#path of management
for (i in 1:length(treat1)) {
print(i)
if(!file.exists(paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_output_sum","\\",soil[jj[m,1]],"\\","Y",substr(treat1[i],1,nchar(treat1[i])-9),substr(treat1[i],nchar(treat1[i])-5,nchar(treat1[i])),sep=""))){
#####load output data########################
path4<-paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_output","\\",soil[jj[m,1]],"\\",site[jj[m,2]],"\\",substr(treat1[i],1,nchar(treat1[i])-4),sep="")#path of output
mana<-read.csv2(paste(path3,"\\",treat1[i],sep=""))
dat_fieldN<-read.table(paste(path4,"\\","field_nitrogen.dlf",sep=""),skip = 30,sep = "\t",as.is = T)
dat_fieldw<-read.table(paste(path4,"\\","field_water.dlf",sep=""),skip = 28,sep = "\t",as.is = T)
dat_harv<-read.table(paste(path4,"\\","harvest.dlf",sep=""),skip = 11,sep = "\t",as.is = T)
dat_soilN30<-read.table(paste(path4,"\\","soil_nitrogen_30.txt",sep=""),skip = 16,sep = "\t",as.is = T)
dat_soilN150<-read.table(paste(path4,"\\","soil_nitrogen_150.txt",sep=""),skip = 16,sep = "\t",as.is = T)
dat_soilw30<-read.table(paste(path4,"\\","soil_water_30.txt",sep=""),skip = 22,sep = "\t",as.is = T)
dat_soilw150<-read.table(paste(path4,"\\","soil_water_150.txt",sep=""),skip = 22,sep = "\t",as.is = T)
dat_soilC30<-read.table(paste(path4,"\\","soil_content_30.txt",sep=""),skip = 16,sep = "\t",as.is = T)
dat_soilC150<-read.table(paste(path4,"\\","soil_content_150.txt",sep=""),skip = 16,sep = "\t",as.is = T)
#######output file#####################
output<-data.frame(matrix(ncol = 14,nrow = 119))
colnames(output)<-c("Year","ETcY","ETaY","TraY","PerY","SWCY1","SWCY2","Runoff","NleaY","MinY","DENY","VOLAT","SOC1","SOC2")
for (j in 1:119) {
output$Year[j]=j+1960
output$ETcY[j]=sum(dat_fieldw[dat_fieldw$V1==output$Year[j]&dat_fieldw$V2>9,7],dat_fieldw[dat_fieldw$V1==(output$Year[j]+1)&dat_fieldw$V2<10,7])
output$ETaY[j]=sum(dat_fieldw[dat_fieldw$V1==output$Year[j]&dat_fieldw$V2>9,8],dat_fieldw[dat_fieldw$V1==(output$Year[j]+1)&dat_fieldw$V2<10,8])
output$PerY[j]=sum(dat_soilw30[dat_soilw30$V1==output$Year[j]&dat_soilw30$V2>9,6],dat_soilw30[dat_soilw30$V1==(output$Year[j]+1)&dat_soilw30$V2<10,6],dat_soilw150[dat_soilw150$V1==output$Year[j]&dat_soilw150$V2>9,6],dat_soilw150[dat_soilw150$V1==(output$Year[j]+1)&dat_soilw150$V2<10,6])
output$SWCY1[j]=mean(c(dat_soilw30[dat_soilw30$V1==output$Year[j]&dat_soilw30$V2>9,18],dat_soilw30[dat_soilw30$V1==(output$Year[j]+1)&dat_soilw30$V2<10,18]))
output$SWCY2[j]=mean(c(dat_soilw150[dat_soilw150$V1==output$Year[j]&dat_soilw150$V2>9,18],dat_soilw150[dat_soilw150$V1==(output$Year[j]+1)&dat_soilw150$V2<10,18]))
output$Runoff[j]=sum(dat_fieldw[dat_fieldw$V1==output$Year[j]&dat_fieldw$V2>9,13],dat_fieldw[dat_fieldw$V1==(output$Year[j]+1)&dat_fieldw$V2<10,13])
output$NleaY[j]=sum(dat_fieldN[dat_fieldN$V1==output$Year[j]&dat_fieldN$V2>9,8],dat_fieldN[dat_fieldN$V1==(output$Year[j]+1)&dat_fieldN$V2<10,8])
output$MinY[j]=sum(dat_fieldN[dat_fieldN$V1==output$Year[j]&dat_fieldN$V2>9,17],dat_fieldN[dat_fieldN$V1==(output$Year[j]+1)&dat_fieldN$V2<10,17])
output$DENY[j]=sum(dat_fieldN[dat_fieldN$V1==output$Year[j]&dat_fieldN$V2>9,22],dat_fieldN[dat_fieldN$V1==(output$Year[j]+1)&dat_fieldN$V2<10,22])
output$VOLAT[j]=sum(dat_fieldN[dat_fieldN$V1==output$Year[j]&dat_fieldN$V2>9,20],dat_fieldN[dat_fieldN$V1==(output$Year[j]+1)&dat_fieldN$V2<10,20])
output$SOC1[j]=tail(dat_soilC30[dat_soilC30$V1==(output$Year[j]+1)&dat_soilC30$V2<=9,],1)$V11
output$SOC2[j]=tail(dat_soilC150[dat_soilC150$V1==(output$Year[j]+1)&dat_soilC150$V2<=9,],1)$V11
}
if(!dir.exists(paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_output_sum","\\",soil[jj[m,1]],sep=""))){
dir.create(paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_output_sum","\\",soil[jj[m,1]],sep=""), showWarnings = TRUE, recursive = T, mode = "0777")
write.csv(output,paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_output_sum","\\",soil[jj[m,1]],"\\","Y",substr(treat1[i],1,nchar(treat1[i])-9),substr(treat1[i],nchar(treat1[i])-5,nchar(treat1[i])),sep=""),row.names=F,na="n.a.")
}else{
write.csv(output,paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_output_sum","\\",soil[jj[m,1]],"\\","Y",substr(treat1[i],1,nchar(treat1[i])-9),substr(treat1[i],nchar(treat1[i])-5,nchar(treat1[i])),sep=""),row.names=F,na="n.a.")
}
}
}
}
site<-list.files(path = paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_Crop_Rot\\management","\\",soil[jj[m,1]],sep=""))##sites
treat<-list.files(path = paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_Crop_Rot\\management","\\",soil[jj[m,1]],"\\",site[jj[m,2]],sep=""))##RCP
#  for (t in 1:1) {
treat1<-list.files(path = paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_Crop_Rot\\management","\\",soil[jj[m,1]],"\\",site[jj[m,2]],"\\",treat[jj[m,3]],"\\","management",sep=""))
path3<-paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_Crop_Rot\\management","\\",soil[jj[m,1]],"\\",site[jj[m,2]],"\\",treat[jj[m,3]],"\\","management",sep="")#path of management
for (i in 1:length(treat1)) {
print(i)
if(!file.exists(paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_output_sum","\\",soil[jj[m,1]],"\\","Y",substr(treat1[i],1,nchar(treat1[i])-9),substr(treat1[i],nchar(treat1[i])-5,nchar(treat1[i])),sep=""))){
#####load output data########################
path4<-paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_output","\\",soil[jj[m,1]],"\\",site[jj[m,2]],"\\",substr(treat1[i],1,nchar(treat1[i])-4),sep="")#path of output
mana<-read.csv2(paste(path3,"\\",treat1[i],sep=""))
dat_fieldN<-read.table(paste(path4,"\\","field_nitrogen.dlf",sep=""),skip = 30,sep = "\t",as.is = T)
dat_fieldw<-read.table(paste(path4,"\\","field_water.dlf",sep=""),skip = 28,sep = "\t",as.is = T)
dat_harv<-read.table(paste(path4,"\\","harvest.dlf",sep=""),skip = 11,sep = "\t",as.is = T)
dat_soilN30<-read.table(paste(path4,"\\","soil_nitrogen_30.txt",sep=""),skip = 16,sep = "\t",as.is = T)
dat_soilN150<-read.table(paste(path4,"\\","soil_nitrogen_150.txt",sep=""),skip = 16,sep = "\t",as.is = T)
dat_soilw30<-read.table(paste(path4,"\\","soil_water_30.txt",sep=""),skip = 22,sep = "\t",as.is = T)
dat_soilw150<-read.table(paste(path4,"\\","soil_water_150.txt",sep=""),skip = 22,sep = "\t",as.is = T)
dat_soilC30<-read.table(paste(path4,"\\","soil_content_30.txt",sep=""),skip = 16,sep = "\t",as.is = T)
dat_soilC150<-read.table(paste(path4,"\\","soil_content_150.txt",sep=""),skip = 16,sep = "\t",as.is = T)
#######output file#####################
output<-data.frame(matrix(ncol = 14,nrow = 119))
colnames(output)<-c("Year","ETcY","ETaY","TraY","PerY","SWCY1","SWCY2","Runoff","NleaY","MinY","DENY","VOLAT","SOC1","SOC2")
for (j in 1:119) {
output$Year[j]=j+1960
output$ETcY[j]=sum(dat_fieldw[dat_fieldw$V1==output$Year[j]&dat_fieldw$V2>9,7],dat_fieldw[dat_fieldw$V1==(output$Year[j]+1)&dat_fieldw$V2<10,7])
output$ETaY[j]=sum(dat_fieldw[dat_fieldw$V1==output$Year[j]&dat_fieldw$V2>9,8],dat_fieldw[dat_fieldw$V1==(output$Year[j]+1)&dat_fieldw$V2<10,8])
output$PerY[j]=sum(dat_soilw30[dat_soilw30$V1==output$Year[j]&dat_soilw30$V2>9,6],dat_soilw30[dat_soilw30$V1==(output$Year[j]+1)&dat_soilw30$V2<10,6],dat_soilw150[dat_soilw150$V1==output$Year[j]&dat_soilw150$V2>9,6],dat_soilw150[dat_soilw150$V1==(output$Year[j]+1)&dat_soilw150$V2<10,6])
output$SWCY1[j]=mean(c(dat_soilw30[dat_soilw30$V1==output$Year[j]&dat_soilw30$V2>9,18],dat_soilw30[dat_soilw30$V1==(output$Year[j]+1)&dat_soilw30$V2<10,18]))
output$SWCY2[j]=mean(c(dat_soilw150[dat_soilw150$V1==output$Year[j]&dat_soilw150$V2>9,18],dat_soilw150[dat_soilw150$V1==(output$Year[j]+1)&dat_soilw150$V2<10,18]))
output$Runoff[j]=sum(dat_fieldw[dat_fieldw$V1==output$Year[j]&dat_fieldw$V2>9,13],dat_fieldw[dat_fieldw$V1==(output$Year[j]+1)&dat_fieldw$V2<10,13])
output$NleaY[j]=sum(dat_fieldN[dat_fieldN$V1==output$Year[j]&dat_fieldN$V2>9,8],dat_fieldN[dat_fieldN$V1==(output$Year[j]+1)&dat_fieldN$V2<10,8])
output$MinY[j]=sum(dat_fieldN[dat_fieldN$V1==output$Year[j]&dat_fieldN$V2>9,17],dat_fieldN[dat_fieldN$V1==(output$Year[j]+1)&dat_fieldN$V2<10,17])
output$DENY[j]=sum(dat_fieldN[dat_fieldN$V1==output$Year[j]&dat_fieldN$V2>9,22],dat_fieldN[dat_fieldN$V1==(output$Year[j]+1)&dat_fieldN$V2<10,22])
output$VOLAT[j]=sum(dat_fieldN[dat_fieldN$V1==output$Year[j]&dat_fieldN$V2>9,20],dat_fieldN[dat_fieldN$V1==(output$Year[j]+1)&dat_fieldN$V2<10,20])
output$SOC1[j]=tail(dat_soilC30[dat_soilC30$V1==(output$Year[j]+1)&dat_soilC30$V2<=9,],1)$V11
output$SOC2[j]=tail(dat_soilC150[dat_soilC150$V1==(output$Year[j]+1)&dat_soilC150$V2<=9,],1)$V11
}
if(!dir.exists(paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_output_sum","\\",soil[jj[m,1]],sep=""))){
dir.create(paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_output_sum","\\",soil[jj[m,1]],sep=""), showWarnings = TRUE, recursive = T, mode = "0777")
write.csv(output,paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_output_sum","\\",soil[jj[m,1]],"\\","Y",substr(treat1[i],1,nchar(treat1[i])-9),substr(treat1[i],nchar(treat1[i])-5,nchar(treat1[i])),sep=""),row.names=F,na="n.a.")
}else{
write.csv(output,paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_output_sum","\\",soil[jj[m,1]],"\\","Y",substr(treat1[i],1,nchar(treat1[i])-9),substr(treat1[i],nchar(treat1[i])-5,nchar(treat1[i])),sep=""),row.names=F,na="n.a.")
}
}
}
treat1
treat1[125]
m
for(m in 26:nrow(jj)){
Jin_output(m)
print(m)
}
m=30
site<-list.files(path = paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_Crop_Rot\\management","\\",soil[jj[m,1]],sep=""))##sites
treat<-list.files(path = paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_Crop_Rot\\management","\\",soil[jj[m,1]],"\\",site[jj[m,2]],sep=""))##RCP
#  for (t in 1:1) {
treat1<-list.files(path = paste("O:\\ST_AGRO\\Klima\\JWMP\\Europ_Crop_Rot\\management","\\",soil[jj[m,1]],"\\",site[jj[m,2]],"\\",treat[jj[m,3]],"\\","management",sep=""))
treat1
treat1[56]
library(xml2)
install.packages("xml2")
library(rvest)
install.packages("rvest")
install.packages("twitteR")
load("~/_Models/AgMIP_Calibration/2/CALIBRATION_AGMIP_CALIBRATION_DAYS_temp_off.Rdata")
fit.DS
load("~/_Models/AgMIP_Calibration/2/CALIBRATION_AGMIP_CALIBRATION_DAYS_temp_off.Rdata")
fit.DS
library(xml2)
library(rvest)
library(twitteR)
setup_twitter_oauth(consumer_key = "lbuuoVng1gg2YoO3q9zi2kMs3",
access_token = "1234544609281429504-MYvQPxHja6aPSV52wknrE7suNCc4HB",
consumer_secret = "errX3oZOwEJ4esxtuJ4b6DPXQOQrev2vrNbdJYjDEGRz7EDdb9",
access_secret = "KgefvJ6Qr3RjtesbAUKj0GNVfzp2wTaKz7mUdmKuLT7nA")
updateStatus("Becasue of the current situation and the fact that not all sick people are tested, this account does not make sense anymore. I have thereby decided that the automatic updates are over and have killed the bot. I wish you all safe times and take good care of yourself and others!",bypassCharLimit=T)
paste0("Because of the current situation and the fact that not all sick people are tested, this account does not make sense anymore. I have thereby decided that the automatic updates are over and have killed the bot. I wish you all safe times and take good care of yourself and others!",'\n',fourth_line)
fourth_line <- paste("#COVID19","#COVID19NL","#RIVM","#coronaNL","#COVID-19","#coronavirus")
paste0("Because of the current situation and the fact that not all sick people are tested, this account does not make sense anymore. I have thereby decided that the automatic updates are over and have killed the bot. I wish you all safe times and take good care of yourself and others!",'\n',fourth_line)
updateStatus(paste0("Because of the current situation and the fact that currently not all sick people are tested, this account does not make sense anymore. I have thereby decided that the automatic updates are over and I have killed the bot. I wish you all safe times and take good care of yourself and others!",'\n',fourth_line),bypassCharLimit=T)
library(xml2)
library(rvest)
library(twitteR)
setup_twitter_oauth(consumer_key = "lbuuoVng1gg2YoO3q9zi2kMs3",
access_token = "1234544609281429504-MYvQPxHja6aPSV52wknrE7suNCc4HB",
consumer_secret = "errX3oZOwEJ4esxtuJ4b6DPXQOQrev2vrNbdJYjDEGRz7EDdb9",
access_secret = "KgefvJ6Qr3RjtesbAUKj0GNVfzp2wTaKz7mUdmKuLT7nA")
updateStatus(paste0("Because of the current situation and the fact that currently not all sick people are tested, this account does not make sense anymore. I have thereby decided that the automatic updates are over and I have killed the bot. I wish you all safe times and take good care of yourself and others!",'\n',fourth_line),bypassCharLimit=T)
updateStatus((paste0("Because of the current situation and the fact that currently not all sick people are tested, this account does not make sense anymore. I have thereby decided that the automatic updates are over and I have killed the bot. I wish you all safe times and take good care of yourself and others!",'\n',fourth_line)),bypassCharLimit=T)
Sys.setlocale(category = "LC_ALL", locale = "English_United States.1252")
rm(list = ls())
labels_2 <- data.frame(matrix(nrow=12,ncol=4))
names(labels_2) = c("number","depth","subplot","species")
labels_2[1,] <- c("T1","-5","A1","2018 Festulolium")
labels_2[2,] <- c("T2","-20","A1","2018 Festulolium")
labels_2[3,] <- c("T3","-5","Out","2018 Festulolium")
labels_2[4,] <- c("T4","-20","Out","2018 Festulolium")
labels_2[5,] <- c("T5","-5","A2","2018 Festulolium")
labels_2[6,] <- c("T6","-20","A2","2018 Festulolium")
labels_2[7,] <- c("T7","-5","A3","2012 Festulolium")
labels_2[8,] <- c("T8","-20","A3","2012 Festulolium")
labels_2[9,] <- c("T9","-5","Out","2012 Festulolium")
labels_2[10,] <- c("T10","-20","Out","2012 Festulolium")
labels_2[11,] <- c("T11","-5","A4","2012 Festulolium")
labels_1 <- data.frame(matrix(nrow=12,ncol=4))
names(labels_1) = c("number","depth","subplot","species")
labels_1[2,] <- c("T14","-20","Out","GrassClover")
labels_1[3,] <- c("T15","-5","Out","GrassClover")
labels_2[12,] <- c("T12","-20","A4","2012 Festulolium")
labels_1[4,] <- c("T16","-20","Out","GrassClover")
labels_1[1,] <- c("T13","-5","Out","GrassClover")
labels_1[5,] <- c("T17","-5","Out","GrassClover")
labels_1[6,] <- c("T18","-20","Out","GrassClover")
labels_1[7,] <- c("T19","-5","A5","Triticale")
labels_1[8,] <- c("T20","-20","A5","Triticale")
labels_1[9,] <- c("T21","-5","Out","Triticale")
labels_1[10,] <- c("T22","-20","Out","Triticale")
labels_1[11,] <- c("T23","-5","A6","Triticale")
labels_1[12,] <- c("T24","-20","A6","Triticale")
# functions ------------------------------------------------------------
plotting_all_TDR_NEW <- function(x,label=NULL){
x <- x[,c(5:16,65)]
for(i in 1:12){
minimum=floor(min(as.numeric(x[,1]),as.numeric(x[,2]),as.numeric(x[,3]),as.numeric(x[,4]),as.numeric(x[,5]),as.numeric(x[,6]),as.numeric(x[,7]),as.numeric(x[,8]),as.numeric(x[,9]),as.numeric(x[,10]),as.numeric(x[,11]),as.numeric(x[,12]),na.rm = T))
maximum=ceiling(max(as.numeric(x[,1]),as.numeric(x[,2]),as.numeric(x[,3]),as.numeric(x[,4]),as.numeric(x[,5]),as.numeric(x[,6]),as.numeric(x[,7]),as.numeric(x[,8]),as.numeric(x[,9]),as.numeric(x[,10]),as.numeric(x[,11]),as.numeric(x[,12]),na.rm = T))
names(x) <- c(paste("T",seq(1:12),sep=""),"date")
jpeg(filename = paste(i,".jpg",sep=""))
plot(x$date,x[,i],xlab="Time",ylab= "%",type="b",ylim=c(minimum,maximum),main = label[i,])
dev.off()
}
}
plotting_all_temp <- function(x,label=NULL){
x <- x[,c(17:28,65)]
for(i in 1:12){
minimum=floor(min(as.numeric(x[,1]),as.numeric(x[,2]),as.numeric(x[,3]),as.numeric(x[,4]),as.numeric(x[,5]),as.numeric(x[,6]),as.numeric(x[,7]),as.numeric(x[,8]),as.numeric(x[,9]),as.numeric(x[,10]),as.numeric(x[,11]),as.numeric(x[,12]),na.rm = T))
maximum=ceiling(max(as.numeric(x[,1]),as.numeric(x[,2]),as.numeric(x[,3]),as.numeric(x[,4]),as.numeric(x[,5]),as.numeric(x[,6]),as.numeric(x[,7]),as.numeric(x[,8]),as.numeric(x[,9]),as.numeric(x[,10]),as.numeric(x[,11]),as.numeric(x[,12]),na.rm = T))
names(x) <- c(paste("T",seq(1:12),sep=""),"date")
jpeg(filename = paste(i,".jpg",sep=""))
plot(x$date,x[,i],xlab="Time",ylab= "Temperature (degrees C)",type="b",ylim=c(minimum,maximum),main = label[i,])
dev.off()
}
}
plotting_all_Quantum <- function(x){
for(i in 2:ncol(x)){
jpeg(filename = paste(i,".jpg",sep=""))
plot(x$date,x[,i],xlab="Time",ylab=names(x)[i],type="b")
dev.off()
}
}
# MARK 2.1 -------------------------------------------------------------
setwd("//DFS05.UNI.AU.DK//dfs//ST_AGRO//Klima//JWMP//Meteo_figures_Foulum//github//ANAEE_DK_Foulum//Mark_2_1//TDR//")
Mark_2_1_TDR <- read.csv("//DFS05.UNI.AU.DK//dfs//ST_AGRO//Foulumgaard\\AnaEE\\Campbell\\Mark2.1+Router_TDR_Field2_1.dat",skip=1,as.is=T)
Mark_2_1_TDR <- Mark_2_1_TDR[3:nrow(Mark_2_1_TDR),]
Mark_2_1_TDR$TIMESTAMP <- as.POSIXct(Mark_2_1_TDR$TIMESTAMP)
data <- fRequent::zootodf(Mark_2_1_TDR[,2:ncol(Mark_2_1_TDR)])
data$date <- Mark_2_1_TDR$TIMESTAMP
date_now <- Sys.Date()
oneweek <- date_now-7
data$pure_date <- as.Date(data$date)
subdata <- data[max(which(data$pure_date==oneweek),1):max(which(data$pure_date==date_now)),]
labels_1 <- cbind(labels_1,subdata$pure_date[nrow(subdata)])
which(data$pure_date==oneweek
)
max(which(data$pure_date==oneweek),1)
max(which(data$pure_date==date_now))
data
tail(data)
as.Date(data$date)
tail(as.Date(data$date))
lubridate::as_date(data$date)
tail(lubridate::as_date(data$date))
data <- fRequent::zootodf(Mark_2_1_TDR[,2:ncol(Mark_2_1_TDR)])
data$date <- Mark_2_1_TDR$TIMESTAMP
date_now <- Sys.Date()
oneweek <- date_now-7
data$pure_date <- lubridate::as_date(data$date)
subdata <- data[max(which(data$pure_date==oneweek),1):max(which(data$pure_date==date_now)),]
labels_1 <- cbind(labels_1,subdata$pure_date[nrow(subdata)])
labels_1$`subdata$pure_date[nrow(subdata)]` <- as.character(labels_1$`subdata$pure_date[nrow(subdata)]`)
plotting_all_TDR_NEW(x = subdata,label = labels_1)
setwd("//DFS05.UNI.AU.DK//dfs//ST_AGRO//Klima//JWMP//Meteo_figures_Foulum//github//ANAEE_DK_Foulum//Mark_2_1//Temp//")
plotting_all_temp(x = subdata,label = labels_1)
setwd("//DFS05.UNI.AU.DK//dfs//ST_AGRO//Klima//JWMP//Meteo_figures_Foulum//github//ANAEE_DK_Foulum//Mark_2_1//Quantum//")
Mark_2_1_Quantum <- read.csv("//DFS05.UNI.AU.DK//dfs//ST_AGRO//Foulumgaard\\AnaEE\\Campbell\\Mark2.1+Router_Quantum_Field2_1.dat",skip=1,as.is=T)
Mark_2_1_Quantum <- Mark_2_1_Quantum[3:nrow(Mark_2_1_Quantum),]
data <- fRequent::zootodf(Mark_2_1_Quantum[,2:ncol(Mark_2_1_Quantum)])
Mark_2_1_Quantum$TIMESTAMP <- as.POSIXct(Mark_2_1_Quantum$TIMESTAMP)
data$date <- Mark_2_1_Quantum$TIMESTAMP
date_now <- Sys.Date()
oneweek <- date_now-7
date <- lubridate::as_date(data$date)
subdata <- data[max(which(date==oneweek),1):max(which(date==date_now),date_now),]
plotting_all_Quantum(subdata)
setwd("//DFS05.UNI.AU.DK//dfs//ST_AGRO//Klima//JWMP//Meteo_figures_Foulum//github//ANAEE_DK_Foulum//Mark_2_2//TDR//")
Mark_2_2_TDR <- read.csv("//DFS05.UNI.AU.DK//dfs//ST_AGRO//Foulumgaard\\AnaEE\\Campbell\\Mark 2.2 igennem mark 2.1_TDR_Field2_2.dat",skip=1,as.is=T)
Mark_2_2_TDR <- Mark_2_2_TDR[3:nrow(Mark_2_2_TDR),]
Mark_2_2_TDR$TIMESTAMP <- as.POSIXct(Mark_2_2_TDR$TIMESTAMP)
data <- fRequent::zootodf(Mark_2_2_TDR[,2:ncol(Mark_2_2_TDR)])
data$date <- Mark_2_2_TDR$TIMESTAMP
date_now <- Sys.Date()
oneweek <- date_now-7
data$pure_date <- lubridate::as_date(data$date)
subdata <- data[max(which(data$pure_date==oneweek),1):max(which(data$pure_date==date_now)),]
labels_2 <- cbind(labels_2,subdata$pure_date[nrow(subdata)])
labels_2$`subdata$pure_date[nrow(subdata)]` <- as.character(labels_2$`subdata$pure_date[nrow(subdata)]`)
plotting_all_TDR_NEW(x = subdata,label = labels_2)
setwd("//DFS05.UNI.AU.DK//dfs//ST_AGRO//Klima//JWMP//Meteo_figures_Foulum//github//ANAEE_DK_Foulum//Mark_2_2//Temp//")
plotting_all_temp(x = subdata,label = labels_2)
# ###########################
setwd("//DFS05.UNI.AU.DK//dfs//ST_AGRO//Klima//JWMP//Meteo_figures_Foulum//github//ANAEE_DK_Foulum//Mark_2_2//Quantum//")
Mark_2_2_Quantum <- read.csv("//DFS05.UNI.AU.DK//dfs//ST_AGRO//Foulumgaard\\AnaEE\\Campbell\\Mark 2.2 igennem mark 2.1_Quantum_Field2_2.dat",skip=1,as.is=T)
Mark_2_2_Quantum <- Mark_2_2_Quantum[3:nrow(Mark_2_2_Quantum),]
Mark_2_2_Quantum$TIMESTAMP <- as.POSIXct(Mark_2_2_Quantum$TIMESTAMP)
data <- fRequent::zootodf(Mark_2_2_Quantum[,2:ncol(Mark_2_2_Quantum)])
data$date <- Mark_2_2_Quantum$TIMESTAMP
date_now <- Sys.Date()
oneweek <- date_now-7
data$pure_date <- lubridate::as_date(data$date)
subdata <- data[max(which(data$pure_date==oneweek),1):max(which(data$pure_date==date_now),date_now),]
plotting_all_Quantum(subdata)
View(data$date)
data$pure_date <- as.date(data$date)
data$pure_date <- as.Date(data$date)
View(c(data$date,data$pure_date)
)
View(cbind(data$date,data$pure_date))
View(data)
Sys.setlocale(category = "LC_ALL", locale = "English_United States.1252")
rm(list = ls())
labels_2 <- data.frame(matrix(nrow=12,ncol=4))
names(labels_2) = c("number","depth","subplot","species")
labels_2[1,] <- c("T1","-5","A1","2018 Festulolium")
labels_2[2,] <- c("T2","-20","A1","2018 Festulolium")
labels_2[3,] <- c("T3","-5","Out","2018 Festulolium")
labels_2[4,] <- c("T4","-20","Out","2018 Festulolium")
labels_2[5,] <- c("T5","-5","A2","2018 Festulolium")
labels_2[6,] <- c("T6","-20","A2","2018 Festulolium")
labels_2[7,] <- c("T7","-5","A3","2012 Festulolium")
labels_2[8,] <- c("T8","-20","A3","2012 Festulolium")
labels_2[9,] <- c("T9","-5","Out","2012 Festulolium")
labels_2[10,] <- c("T10","-20","Out","2012 Festulolium")
labels_2[11,] <- c("T11","-5","A4","2012 Festulolium")
labels_2[12,] <- c("T12","-20","A4","2012 Festulolium")
labels_1 <- data.frame(matrix(nrow=12,ncol=4))
names(labels_1) = c("number","depth","subplot","species")
labels_1[1,] <- c("T13","-5","Out","GrassClover")
labels_1[2,] <- c("T14","-20","Out","GrassClover")
labels_1[3,] <- c("T15","-5","Out","GrassClover")
labels_1[4,] <- c("T16","-20","Out","GrassClover")
labels_1[5,] <- c("T17","-5","Out","GrassClover")
labels_1[6,] <- c("T18","-20","Out","GrassClover")
labels_1[7,] <- c("T19","-5","A5","Triticale")
labels_1[8,] <- c("T20","-20","A5","Triticale")
labels_1[9,] <- c("T21","-5","Out","Triticale")
labels_1[10,] <- c("T22","-20","Out","Triticale")
labels_1[11,] <- c("T23","-5","A6","Triticale")
labels_1[12,] <- c("T24","-20","A6","Triticale")
# functions ------------------------------------------------------------
plotting_all_TDR_NEW <- function(x,label=NULL){
x <- x[,c(5:16,65)]
for(i in 1:12){
minimum=floor(min(as.numeric(x[,1]),as.numeric(x[,2]),as.numeric(x[,3]),as.numeric(x[,4]),as.numeric(x[,5]),as.numeric(x[,6]),as.numeric(x[,7]),as.numeric(x[,8]),as.numeric(x[,9]),as.numeric(x[,10]),as.numeric(x[,11]),as.numeric(x[,12]),na.rm = T))
maximum=ceiling(max(as.numeric(x[,1]),as.numeric(x[,2]),as.numeric(x[,3]),as.numeric(x[,4]),as.numeric(x[,5]),as.numeric(x[,6]),as.numeric(x[,7]),as.numeric(x[,8]),as.numeric(x[,9]),as.numeric(x[,10]),as.numeric(x[,11]),as.numeric(x[,12]),na.rm = T))
names(x) <- c(paste("T",seq(1:12),sep=""),"date")
jpeg(filename = paste(i,".jpg",sep=""))
plot(x$date,x[,i],xlab="Time",ylab= "%",type="b",ylim=c(minimum,maximum),main = label[i,])
dev.off()
}
}
plotting_all_temp <- function(x,label=NULL){
x <- x[,c(17:28,65)]
for(i in 1:12){
minimum=floor(min(as.numeric(x[,1]),as.numeric(x[,2]),as.numeric(x[,3]),as.numeric(x[,4]),as.numeric(x[,5]),as.numeric(x[,6]),as.numeric(x[,7]),as.numeric(x[,8]),as.numeric(x[,9]),as.numeric(x[,10]),as.numeric(x[,11]),as.numeric(x[,12]),na.rm = T))
maximum=ceiling(max(as.numeric(x[,1]),as.numeric(x[,2]),as.numeric(x[,3]),as.numeric(x[,4]),as.numeric(x[,5]),as.numeric(x[,6]),as.numeric(x[,7]),as.numeric(x[,8]),as.numeric(x[,9]),as.numeric(x[,10]),as.numeric(x[,11]),as.numeric(x[,12]),na.rm = T))
names(x) <- c(paste("T",seq(1:12),sep=""),"date")
jpeg(filename = paste(i,".jpg",sep=""))
plot(x$date,x[,i],xlab="Time",ylab= "Temperature (degrees C)",type="b",ylim=c(minimum,maximum),main = label[i,])
dev.off()
}
}
plotting_all_Quantum <- function(x){
for(i in 2:ncol(x)){
jpeg(filename = paste(i,".jpg",sep=""))
plot(x$date,x[,i],xlab="Time",ylab=names(x)[i],type="b")
dev.off()
}
}
# MARK 2.1 -------------------------------------------------------------
setwd("//DFS05.UNI.AU.DK//dfs//ST_AGRO//Klima//JWMP//Meteo_figures_Foulum//github//ANAEE_DK_Foulum//Mark_2_1//TDR//")
Mark_2_1_TDR <- read.csv("//DFS05.UNI.AU.DK//dfs//ST_AGRO//Foulumgaard\\AnaEE\\Campbell\\Mark2.1+Router_TDR_Field2_1.dat",skip=1,as.is=T)
Mark_2_1_TDR <- Mark_2_1_TDR[3:nrow(Mark_2_1_TDR),]
Mark_2_1_TDR$TIMESTAMP <- as.POSIXct(Mark_2_1_TDR$TIMESTAMP)
data <- fRequent::zootodf(Mark_2_1_TDR[,2:ncol(Mark_2_1_TDR)])
data$date <- Mark_2_1_TDR$TIMESTAMP
date_now <- Sys.Date()
oneweek <- date_now-7
data$pure_date <- lubridate::as_date(data$date)
subdata <- data[max(which(data$pure_date==oneweek),1):max(which(data$pure_date==date_now)),]
labels_1 <- cbind(labels_1,subdata$pure_date[nrow(subdata)])
labels_1
labels_1$`subdata$pure_date[nrow(subdata)]` <- as.character(labels_1$`subdata$pure_date[nrow(subdata)]`)
labels_1
data$pure_date <- as.Date(data$date)
subdata <- data[max(which(data$pure_date==oneweek),1):max(which(data$pure_date==date_now)),]
labels_1 <- cbind(labels_1,subdata$pure_date[nrow(subdata)])
data <- fRequent::zootodf(Mark_2_1_TDR[,2:ncol(Mark_2_1_TDR)])
data$date <- Mark_2_1_TDR$TIMESTAMP
date_now <- Sys.Date()
oneweek <- date_now-7
data$pure_date <- as.Date(data$date)
subdata <- data[max(which(data$pure_date==oneweek),1):max(which(data$pure_date==date_now)),]
data$
data
labels_1 <- cbind(labels_1,subdata$pure_date[nrow(subdata)])
subdata <- data[max(which(data$pure_date==oneweek),1):max(which(data$pure_date==date_now)),]
data$pure_date <- as.Date(data$date)+1
subdata <- data[max(which(data$pure_date==oneweek),1):max(which(data$pure_date==date_now)),]
labels_1 <- cbind(labels_1,subdata$pure_date[nrow(subdata)])
labels_1$`subdata$pure_date[nrow(subdata)]` <- as.character(labels_1$`subdata$pure_date[nrow(subdata)]`)
plotting_all_TDR_NEW(x = subdata,label = labels_1)
setwd("//DFS05.UNI.AU.DK//dfs//ST_AGRO//Klima//JWMP//Meteo_figures_Foulum//github//ANAEE_DK_Foulum//Mark_2_1//Temp//")
plotting_all_temp(x = subdata,label = labels_1)
source('O:/ST_AGRO/Klima/JWMP/Meteo_figures_Foulum/Meteo_Foulum_ANAee_NEW.R')
Sys.setlocale(category = "LC_ALL", locale = "English_United States.1252")
rm(list = ls())
labels_2 <- data.frame(matrix(nrow=12,ncol=4))
names(labels_2) = c("number","depth","subplot","species")
labels_2[1,] <- c("T1","-5","A1","2018 Festulolium")
labels_2[2,] <- c("T2","-20","A1","2018 Festulolium")
labels_2[3,] <- c("T3","-5","Out","2018 Festulolium")
labels_2[4,] <- c("T4","-20","Out","2018 Festulolium")
labels_2[5,] <- c("T5","-5","A2","2018 Festulolium")
labels_2[6,] <- c("T6","-20","A2","2018 Festulolium")
labels_2[7,] <- c("T7","-5","A3","2012 Festulolium")
labels_2[8,] <- c("T8","-20","A3","2012 Festulolium")
labels_2[9,] <- c("T9","-5","Out","2012 Festulolium")
labels_2[10,] <- c("T10","-20","Out","2012 Festulolium")
labels_2[11,] <- c("T11","-5","A4","2012 Festulolium")
labels_2[12,] <- c("T12","-20","A4","2012 Festulolium")
labels_1 <- data.frame(matrix(nrow=12,ncol=4))
names(labels_1) = c("number","depth","subplot","species")
labels_1[1,] <- c("T13","-5","Out","GrassClover")
labels_1[2,] <- c("T14","-20","Out","GrassClover")
labels_1[3,] <- c("T15","-5","Out","GrassClover")
labels_1[4,] <- c("T16","-20","Out","GrassClover")
labels_1[5,] <- c("T17","-5","Out","GrassClover")
labels_1[6,] <- c("T18","-20","Out","GrassClover")
labels_1[7,] <- c("T19","-5","A5","Triticale")
labels_1[8,] <- c("T20","-20","A5","Triticale")
labels_1[9,] <- c("T21","-5","Out","Triticale")
labels_1[10,] <- c("T22","-20","Out","Triticale")
labels_1[11,] <- c("T23","-5","A6","Triticale")
labels_1[12,] <- c("T24","-20","A6","Triticale")
# functions ------------------------------------------------------------
plotting_all_TDR_NEW <- function(x,label=NULL){
x <- x[,c(5:16,65)]
for(i in 1:12){
minimum=floor(min(as.numeric(x[,1]),as.numeric(x[,2]),as.numeric(x[,3]),as.numeric(x[,4]),as.numeric(x[,5]),as.numeric(x[,6]),as.numeric(x[,7]),as.numeric(x[,8]),as.numeric(x[,9]),as.numeric(x[,10]),as.numeric(x[,11]),as.numeric(x[,12]),na.rm = T))
maximum=ceiling(max(as.numeric(x[,1]),as.numeric(x[,2]),as.numeric(x[,3]),as.numeric(x[,4]),as.numeric(x[,5]),as.numeric(x[,6]),as.numeric(x[,7]),as.numeric(x[,8]),as.numeric(x[,9]),as.numeric(x[,10]),as.numeric(x[,11]),as.numeric(x[,12]),na.rm = T))
names(x) <- c(paste("T",seq(1:12),sep=""),"date")
jpeg(filename = paste(i,".jpg",sep=""))
plot(x$date,x[,i],xlab="Time",ylab= "%",type="b",ylim=c(minimum,maximum),main = label[i,])
dev.off()
}
}
plotting_all_temp <- function(x,label=NULL){
x <- x[,c(17:28,65)]
for(i in 1:12){
minimum=floor(min(as.numeric(x[,1]),as.numeric(x[,2]),as.numeric(x[,3]),as.numeric(x[,4]),as.numeric(x[,5]),as.numeric(x[,6]),as.numeric(x[,7]),as.numeric(x[,8]),as.numeric(x[,9]),as.numeric(x[,10]),as.numeric(x[,11]),as.numeric(x[,12]),na.rm = T))
maximum=ceiling(max(as.numeric(x[,1]),as.numeric(x[,2]),as.numeric(x[,3]),as.numeric(x[,4]),as.numeric(x[,5]),as.numeric(x[,6]),as.numeric(x[,7]),as.numeric(x[,8]),as.numeric(x[,9]),as.numeric(x[,10]),as.numeric(x[,11]),as.numeric(x[,12]),na.rm = T))
names(x) <- c(paste("T",seq(1:12),sep=""),"date")
jpeg(filename = paste(i,".jpg",sep=""))
plot(x$date,x[,i],xlab="Time",ylab= "Temperature (degrees C)",type="b",ylim=c(minimum,maximum),main = label[i,])
dev.off()
}
}
plotting_all_Quantum <- function(x){
for(i in 2:ncol(x)){
jpeg(filename = paste(i,".jpg",sep=""))
plot(x$date,x[,i],xlab="Time",ylab=names(x)[i],type="b")
dev.off()
}
}
# MARK 2.1 -------------------------------------------------------------
setwd("//DFS05.UNI.AU.DK//dfs//ST_AGRO//Klima//JWMP//Meteo_figures_Foulum//github//ANAEE_DK_Foulum//Mark_2_1//TDR//")
Mark_2_1_TDR <- read.csv("//DFS05.UNI.AU.DK//dfs//ST_AGRO//Foulumgaard\\AnaEE\\Campbell\\Mark2.1+Router_TDR_Field2_1.dat",skip=1,as.is=T)
Mark_2_1_TDR <- Mark_2_1_TDR[3:nrow(Mark_2_1_TDR),]
Mark_2_1_TDR$TIMESTAMP <- as.POSIXct(Mark_2_1_TDR$TIMESTAMP)
data <- fRequent::zootodf(Mark_2_1_TDR[,2:ncol(Mark_2_1_TDR)])
data$date <- Mark_2_1_TDR$TIMESTAMP
date_now <- Sys.Date()
oneweek <- date_now-7
data$pure_date <- as.Date(data$date)+1
subdata <- data[max(which(data$pure_date==oneweek),1):max(which(data$pure_date==date_now)),]
labels_1 <- cbind(labels_1,subdata$pure_date[nrow(subdata)])
labels_1$`subdata$pure_date[nrow(subdata)]` <- as.character(labels_1$`subdata$pure_date[nrow(subdata)]`)
subdata
Mark_2_1_TDR <- read.csv("//DFS05.UNI.AU.DK//dfs//ST_AGRO//Foulumgaard\\AnaEE\\Campbell\\Mark2.1+Router_TDR_Field2_1.dat",skip=1,as.is=T)
Mark_2_1_TDR
Mark_2_1_TDR <- Mark_2_1_TDR[3:nrow(Mark_2_1_TDR),]
Mark_2_1_TDR$TIMESTAMP <- as.POSIXct(Mark_2_1_TDR$TIMESTAMP)
data <- fRequent::zootodf(Mark_2_1_TDR[,2:ncol(Mark_2_1_TDR)])
data
data$date
data$date <- Mark_2_1_TDR$TIMESTAMP
data$date
Mark_2_1_TDR$TIMESTAMP
Mark_2_1_TDR$TIMESTAMP <- as.POSIXlt(Mark_2_1_TDR$TIMESTAMP)
Mark_2_1_TDR <- read.csv("//DFS05.UNI.AU.DK//dfs//ST_AGRO//Foulumgaard\\AnaEE\\Campbell\\Mark2.1+Router_TDR_Field2_1.dat",skip=1,as.is=T)
Mark_2_1_TDR <- Mark_2_1_TDR[3:nrow(Mark_2_1_TDR),]
Mark_2_1_TDR$TIMESTAMP <- as.POSIXlt(Mark_2_1_TDR$TIMESTAMP)
Mark_2_1_TDR
Mark_2_1_TDR$TIMESTAMP
Mark_2_1_TDR <- read.csv("//DFS05.UNI.AU.DK//dfs//ST_AGRO//Foulumgaard\\AnaEE\\Campbell\\Mark2.1+Router_TDR_Field2_1.dat",skip=1,as.is=T)
Mark_2_1_TDR <- Mark_2_1_TDR[3:nrow(Mark_2_1_TDR),]
Mark_2_1_TDR$TIMESTAMP
Mark_2_1_TDR$TIMESTAMP <- as.POSIXct(Mark_2_1_TDR$TIMESTAMP,format="%Y-%m-%d %H:%M:%OS")
Mark_2_1_TDR$TIMESTAMP
data <- fRequent::zootodf(Mark_2_1_TDR[,2:ncol(Mark_2_1_TDR)])
data$date <- Mark_2_1_TDR$TIMESTAMP
date_now <- Sys.Date()
oneweek <- date_now-7
data$pure_date <- as.Date(data$date)+1
subdata <- data[max(which(data$pure_date==oneweek),1):max(which(data$pure_date==date_now)),]
